function $templateSources(e,...t){if(!(e instanceof HTMLElement))throw new Error("element must a HTMLElement");const n=e.constructor;if(!n.cachedTemplateXHR){const e=e=>fetch(e).then(e=>{let t;return e.ok?(t=e.text(),e.headers.get("Content-Type").toLocaleLowerCase().includes("text/css")&&(t=Promise.allSettled(["<style>",t,"</style>"]).then(e=>e.map(e=>e.value).join("\n")))):t=Promise.reject(e),t});n.cachedTemplateXHR=Promise.allSettled(t.map(e)).then(e=>e.map(e=>e.value).join("\n"))}return n.cachedTemplateXHR}HTMLElement.prototype.$template=function(e){const t=$(document).template(e,this);return"loaded"===document.readyState?Promise.resolve(t):new Promise(e=>{t.ready(()=>e(t))})},HTMLElement.prototype.$templateSources=function(...e){return $templateSources(this,e).then(e=>this.$template(e))},jQuery.fn.template=function(e,t){let n=$(e);const o=(n="TEMPLATE"!==n.prop("tagName")?$("<template>"+e+"</template>"):n).get(0).content.cloneNode(!0),r=t.attachShadow({mode:"open"});return r.appendChild(o),$(r.host)},jQuery.fn.slot=function(e){const t=this.get(0).shadowRoot;if(t){const n=t.querySelectorAll(e||"slot"),o=[];return n.forEach(e=>{e.assignedNodes().forEach(e=>{o.push(e)})}),$(o)}throw new Error("Current element doesn't have a shadowroot!")},function(e){const t=e.fn.find;e.fn.extend({find:function(){let e=t.apply(this,arguments);if(0===e.length){const t=this.get(0).shadowRoot;if(t){const n=t.querySelectorAll(...arguments);e=$(n)}}return e}})}(jQuery);